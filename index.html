<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Website</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0A1F44, #1a3c8b);
    color: white;
    text-align: center;
}

.container {
    width: 90%;
    max-width: 900px;
    margin: auto;
    padding: 40px 0;
}

.card {
    background: white;
    color: #0A1F44;
    padding: 20px;
    border-radius: 15px;
    margin: 15px 0;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    transition: 0.3s;
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,255,255,0.4);
}

button {
    background: #00cfff;
    border: none;
    padding: 10px 20px;
    color: white;
    border-radius: 10px;
    cursor: pointer;
    margin: 5px;
}

button:hover {
    background: #00aacc;
}

input {
    padding: 10px;
    width: 90%;
    margin: 8px 0;
    border-radius: 8px;
    border: none;
}

.hidden {
    display: none;
}

.top-menu {
    position: absolute;
    top: 15px;
    left: 20px;
    font-size: 26px;
    cursor: pointer;
}
iframe {
    border-radius: 10px;
}
</style>
</head>
<body>

<div class="top-menu" onclick="showLogin()">â‹®</div>

<div class="container">

<h2 id="title">ðŸ“… Menu Berdasarkan Tanggal Upload</h2>

<div id="content"></div>

</div>

<script>
let videos = JSON.parse(localStorage.getItem("videos")) || [];

function saveData() {
    localStorage.setItem("videos", JSON.stringify(videos));
}

function renderHome() {
    document.getElementById("title").innerText = "ðŸ“… Menu Berdasarkan Tanggal Upload";
    let content = document.getElementById("content");
    content.innerHTML = "";

    videos.sort((a,b)=> new Date(b.date) - new Date(a.date));

    videos.forEach((video, index) => {
        content.innerHTML += `
        <div class="card">
            <h3>${video.date}</h3>
            <button onclick="openVideo(${index})">Lihat Video</button>
        </div>`;
    });
}

function openVideo(index) {
    let video = videos[index];
    document.getElementById("title").innerText = "Halaman Video";
    let content = document.getElementById("content");

    content.innerHTML = `
    <div class="card">
        <iframe width="100%" height="400"
        src="${video.linkVideo}" allowfullscreen></iframe>
        <br><br>
        <a href="${video.linkButton}" target="_blank">
            <button>ðŸ”— Tombol Khusus</button>
        </a>
        <br><br>
        <button onclick="renderHome()">â¬… Kembali</button>
    </div>`;
}

function showLogin() {
    let content = document.getElementById("content");
    document.getElementById("title").innerText = "Login Admin";

    content.innerHTML = `
    <div class="card">
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <br><br>
        <button onclick="renderHome()">Batal</button>
    </div>`;
}

function login() {
    let user = document.getElementById("username").value;
    let pass = document.getElementById("password").value;

    if(user === "admin" && pass === "admin123") {
        showDashboard();
    } else {
        alert("Login salah!");
    }
}

function showDashboard() {
    document.getElementById("title").innerText = "Dashboard Admin";
    let content = document.getElementById("content");

    content.innerHTML = `
    <div class="card">
        <h3>Tambah Video</h3>
        <input type="date" id="date">
        <input type="text" id="linkVideo" placeholder="Link Embed Video">
        <input type="text" id="linkButton" placeholder="Link Tombol Khusus">
        <button onclick="addVideo()">Tambah</button>
        <br><br>
        <button onclick="renderHome()">â¬… Kembali</button>
    </div>
    <div id="list"></div>`;

    renderList();
}

function renderList() {
    let list = document.getElementById("list");
    list.innerHTML = "";

    videos.forEach((video, index) => {
        list.innerHTML += `
        <div class="card">
            ${video.date}
            <br>
            <button onclick="deleteVideo(${index})">Hapus</button>
        </div>`;
    });
}

function addVideo() {
    let date = document.getElementById("date").value;
    let linkVideo = document.getElementById("linkVideo").value;
    let linkButton = document.getElementById("linkButton").value;

    if(date && linkVideo && linkButton) {
        videos.push({date, linkVideo, linkButton});
        saveData();
        showDashboard();
    } else {
        alert("Isi semua data!");
    }
}

function deleteVideo(index) {
    videos.splice(index, 1);
    saveData();
    showDashboard();
}

renderHome();
</script>

</body>
</html>